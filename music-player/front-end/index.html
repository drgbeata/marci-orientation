<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/style.css" />
    <title>Doom Player</title>
  </head>
  <body>
    <div class="main-container">
      <div class="player-container">
        <div class="panel-1">
          <img
            src="/assets/images/doomguy.jpg"
            alt="doom-player"
            id="doom-guy"
          />
          <p id="playlist-titlebar">Playlists</p>
          <div class="album"></div>
          <div class="playlists">
            <p>Hello</p>
            <p>Hello</p>
            <p>Hello</p>
            <p>Hello</p>
            <p>Hello</p>
            <p>Hello</p>
            <p>hello</p>
            <p>hello</p>
            <p>hello</p>
            <p>hello</p>
          </div>
        </div>
        <div class="panel-2">
          <div class="current-song">current-song</div>
          <p>1</p>
          <p>2</p>
          <p>3</p>
          <p>4</p>
          <p>4</p>
          <p>4</p>
          <p>hello</p>
          <p>hello</p>
          <p>4</p>
          <p>4</p>
        </div>
      </div>
      <footer>
        <img src="/assets/images/rewind.svg" id="rewind" alt="rewind" />
        <div id="play">
          <audio
            src="/assets/music/102_-_Doom_-_DOS_-_At_Doom's_Gate.ogg"
            id="song"
          ></audio
          ><img src="assets/images/play.svg" alt="play" />
        </div>
        <img src="/assets/images/forward.svg" id="forward" alt="forward" />
        <p id="song-current-time">9:15</p>
        <label for="progress-slider"></label
        ><input
          type="range"
          min="-100"
          max="0"
          value="0"
          class="range blue"
          id="progress-slider"
        />
        <p id="song-total-time">15:26</p>
        <img src="/assets/images/shuffle.svg" id="shuffle" alt="shuffle" />
        <img src="/assets/images/volume.svg" id="volume" alt="volume" />
        <label for="volume-control"></label
        ><input
          type="range"
          min="-100"
          max="0"
          value="0"
          class="range blue"
          id="volume-control"
        />
        <p id="current-volume">56%</p>
      </footer>
    </div>
    <script src="dist/bundle.js"></script>
    <script>
      let inputRange = document.getElementById('progress-slider'),
        maxValue = 100,
        currValue,
        rafID;

      inputRange.min = 0;
      inputRange.max = maxValue;

      function animateHandler() {
        const transX = currValue - maxValue;

        inputRange.value = currValue;

        if (currValue < 20) {
          inputRange.classList.remove('ltpurple');
        }
        if (currValue < 40) {
          inputRange.classList.remove('purple');
        }
        if (currValue < 60) {
          inputRange.classList.remove('pink');
        }
      }

      function unlockStartHandler() {
        window.cancelAnimationFrame(rafID);
        currValue = +this.value;
      }
      inputRange.addEventListener('input', function () {
        console.log('progress', this.value);
        if (this.value > 20) {
          inputRange.classList.add('ltpurple');
        }
        if (this.value > 40) {
          inputRange.classList.add('purple');
        }
        if (this.value > 60) {
          inputRange.classList.add('pink');
        }

        if (this.value < 20) {
          inputRange.classList.remove('ltpurple');
        }
        if (this.value < 40) {
          inputRange.classList.remove('purple');
        }
        if (this.value < 60) {
          inputRange.classList.remove('pink');
        }
      });

      var volumeControl = document.getElementById('volume-control'),
        maxVal = 100,
        speedTwo = 5,
        currVal,
        rafIDTwo;

      volumeControl.min = 0;
      volumeControl.max = maxVal;

      function animateHandler() {
        var transTwo = currVal - maxVal;

        volumeControl.value = currVal;

        if (currVal < 20) {
          volumeControl.classList.remove('ltpurple');
        }
        if (currVal < 40) {
          volumeControl.classList.remove('purple');
        }
        if (currVal < 60) {
          volumeControl.classList.remove('pink');
        }
      }

      function unlockStartHandlerTwo() {
        window.cancelAnimationFrame(rafIDTwo);
        currVal = +this.value;
      }
      volumeControl.addEventListener('input', function () {
        if (this.value > 20) {
          volumeControl.classList.add('ltpurple');
        }
        if (this.value > 40) {
          volumeControl.classList.add('purple');
        }
        if (this.value > 60) {
          volumeControl.classList.add('pink');
        }

        if (this.value < 20) {
          volumeControl.classList.remove('ltpurple');
        }
        if (this.value < 40) {
          volumeControl.classList.remove('purple');
        }
        if (this.value < 60) {
          volumeControl.classList.remove('pink');
        }
      });
    </script>
  </body>
</html>
